%ul.nav.pull-right
  %li.dropdown
    - if current_user
      %a.dropdown-toggle{:href=>"#", :"data-toggle" => "dropdown"}
        = current_user.greeting
        %b.caret

      %ul.dropdown-menu
        %li= link_to t("devise.edit_account"), user_url
        %li= link_to t("devise.logout"), destroy_user_session_url, :method => :delete
        - if current_user.is_admin?
          %li.divider
          - if admin_namespace?
            %li= link_to t("public_area"), root_url
          - else
            %li= link_to t("admin_area"), admin_url
            
    - else
      %a.dropdown-toggle{:href=>"#", :"data-toggle" => "dropdown"}
        = t("devise.sign_in")
        %b.caret
      %ul.dropdown-menu
        %li= link_to t("devise.sign_in"), new_user_session_url
        - User.omniauth_providers.each do |provider|
          %li= link_to t("devise.sign_in_with", :provider => provider.to_s.titleize).html_safe, user_omniauth_authorize_path(provider)
  
  = render :partial => "shared/locales"